<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>GitHub HTML 멀티플레이어 우노 게임</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      text-align: center; 
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    #game-board {
      display: flex;
      flex-wrap: wrap;
      max-width: 600px;
      margin: 20px auto;
      justify-content: center;
    }
    .card {
      width: 80px;
      height: 120px;
      margin: 10px;
      border: 2px solid #333;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #fff;
      cursor: pointer;
      user-select: none;
      transition: transform 0.2s;
    }
    .card:hover {
      transform: scale(1.05);
    }
    .red { background-color: red; }
    .blue { background-color: blue; }
    .yellow { background-color: yellow; color: black; }
    .green { background-color: green; }
    .black { background-color: black; }
  </style>
  <!-- Firebase 라이브러리 (compat 버전) -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
</head>
<body>
  <h1>멀티플레이어 우노 게임</h1>
  <div id="game-board"></div>

  <script>
    // 1. Firebase 설정 (본인의 Firebase 콘솔에서 발급받은 설정으로 대체하세요)
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      databaseURL: "YOUR_DATABASE_URL",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // 2. Firebase 초기화
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // 3. 게임 보드 요소 가져오기
    const gameBoard = document.getElementById('game-board');

    // 4. 카드 요소 생성 함수
    function createCard(color, label) {
      const card = document.createElement('div');
      card.classList.add('card', color);
      card.textContent = label;
      card.addEventListener('click', () => {
        // 카드 클릭 시 Firebase에 플레이 이벤트 기록
        const newPlayRef = database.ref('cardPlayed').push();
        newPlayRef.set({ color, label, timestamp: Date.now() });
      });
      return card;
    }

    // 5. 기본 카드 구성 (빨강, 파랑, 노랑, 초록)
    const colors = ['red', 'blue', 'yellow', 'green'];
    colors.forEach(color => {
      // 여기서는 각 색상당 하나의 카드 예제로 구성합니다.
      const card = createCard(color, color.toUpperCase());
      gameBoard.appendChild(card);
    });

    // 6. 색상 변경 카드 (검정색)
    const wildCard = createCard('black', 'Wild');
    gameBoard.appendChild(wildCard);

    // 7. Firebase로부터 다른 사용자의 카드 플레이 이벤트 수신
    const cardPlayedRef = database.ref('cardPlayed');
    cardPlayedRef.on('child_added', snapshot => {
      const data = snapshot.val();
      console.log('플레이된 카드:', data);
      // 이곳에서 실제 게임 로직에 맞춰 UI 업데이트나 게임 상태 변경 등을 구현할 수 있습니다.
      // 예를 들어, 각 카드 플레이 기록을 화면의 별도 영역에 표시할 수 있습니다.
    });
  </script>
</body>
</html>
